---
title: Create a short URL - API
excerpt: With this REST-API you can create a 3q3.de short URL from a Spamty link to an email address.

layout: default
permalink: /shorturlcreate/

# Spamty API Doc (http://dev.spamty.eu/)
# Copyright (C) 2016 by Philipp & Spamty.eu
---
<p>With this API method you can create a 3q3.de short URL from a spamty link to an email address.</p>
<p>The current version is <strong>2.1</strong> (see what <a href="{{site.url}}/changelog/" title="Changelog">changed</a>).</p>

<h2>URL</h2>
<p>Use this URL for your request:</p>
<pre>https://api.spamty.eu/shorturlcreate/v2.php</pre>
<p>You have to use <a href="{{site.url}}/https/">HTTPS</a>.</p>

<h2>Parameters</h2>
<p>Send a HTTP POST request with the following parameters:</p>
<p><code>spamtyLink</code><br>
A spamty link to an email address (like <em> <a href="http://spamty.eu/mail/v4/20/869656557u8375992c/" target="_blank" rel="nofollow">http://spamty.eu/mail/v4/20/869656557u8375992c/</a> </em>).</p>
<p><code>apiUser</code><br>
Your class <strong>SC</strong> API username.</p>
<p><code>apiKey</code><br>
Your class <strong>SC</strong> <a href="{{site.url}}/apikeys/">API Auth Code</a>.</p>
<p><code>output</code><br>
The output type (<em>json</em> or <em>xml</em> is supported, default is <em>json</em>).</p>
<h3>Example Request</h3>
<p>Example request with PHP and cURL</p>
<pre class="prettyprint">
// Init a cURL session
$ch = curl_init();
// Set the URL
curl_setopt($ch, CURLOPT_URL, "https://api.spamty.eu/shorturlcreate/v2.php");
// No header in the result
curl_setopt($ch, CURLOPT_HEADER, 0);
// Return, do not echo result
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); 
// This has to be a POST request
curl_setopt($ch, CURLOPT_POST, true);
// ignore the invalid SSL certificate
curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); 
// Define the data to POST
curl_setopt($ch, CURLOPT_POSTFIELDS, array(
	// the link
	'spamtyLink'    => 'http://spamty.eu/mail/v4/20/869656557u8375992c/',
	// api username & key
	'apiUser'       => 'sc_931836481',
	'apiKey'        => '12345678901234541678901234567890ab',
	// output type (xml or json)
	'output'        => 'json'
));
// Execute and get the response
$response = curl_exec($ch);
// close cURL session
curl_close($ch);
</pre>

<h2>Return Values</h2>
<p>The request will return a JSON file with the following parameters:</p>
<p><code>status</code><br>
1 for OK and 0 if any error occurred.</p>
<p><code>statusDetails</code><br>
A description if there were any errors. Otherwise the value is "ok".</p>
<p><code>info</code><br>
The URL where you can get some additional information (this page).</p>
<p><code>version</code><br>
The version.</p>
<p><code>shortUrl</code><br>
A shortened url (like <em> <a href="http://3q3.de/demo" target="_blank" rel="nofollow">http://3q3.de/demo</a> </em>)</p>
<h3>Example Response</h3>
<p>The response could look like:</p>
<h4>JSON</h4>
<pre class="prettyprint">{
   "status" : 1,
   "statusDetails" : "ok",
   "version" : "2.1",
   "info" : "http://dev.spamty.eu/shorturlcreate/",
   "shortUrl" : "http://3q3.de/demo"
}</pre>
<h4>XML</h4>
<pre class="prettyprint">
&lt;spamty&gt;
  &lt;info&gt;http://dev.spamty.eu/shorturlcreate/&lt;/info&gt;
  &lt;version&gt;2.1&lt;/version&gt;
  &lt;status&gt;1&lt;/status&gt;
  &lt;statusDetails&gt;ok&lt;/statusDetails&gt;
  &lt;shortUrl&gt;http://3q3.de/demo&lt;/shortUrl&gt;
&lt;/spamty&gt;
</pre>

<h2>See Also</h2>
<ul>
	<li><a href="{{site.url}}/shorturlview/" title="Shorturlview API">View a short URL</a></li>
	<li><a href="{{site.url}}/changelog/" title="Changelog">Changelog</a></li>
</ul>
<p>Please report any issues with this API or feature requests at our <a href="http://spamty.eu/contact-dev.php">via this form</a>.</p>

